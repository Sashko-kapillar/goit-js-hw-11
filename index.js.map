{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\n// import { pixabay } from './js/pixabay-api';\n\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst apiKey = '46100469-a9a71a6d23d5188e64cb63582'; // Замініть на ваш ключ\nconst lightbox = new SimpleLightbox('.gallery a');\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  loader.style.display = 'block';\n  const searchInput = document.querySelector('input[name=\"search\"]').value;\n\n  gallery.innerHTML = ''; //Очистити галерею перед новим пошуком\n  localStorage.removeItem('search-form-state');\n\n  axios\n    .get(\n      `https://pixabay.com/api/?key=${apiKey}&q=${searchInput}&image_type=photo&orientation=horizontal&safesearch=true`\n    )\n    .then(response => {\n      const hits = response.data.hits;\n\n      if (hits.length === 0) {\n        iziToast.show({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topCenter',\n        });\n      } else {\n        hits.forEach(hit => {\n          const galleryItem = document.createElement('li');\n          console.log(hits.length);\n          galleryItem.classList.add('gallery-item');\n          galleryItem.innerHTML = `\n                        <a href=\"${hit.largeImageURL}\">\n                            <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" class=\"gallery-image\">\n                        </a>\n                    `;\n          gallery.appendChild(galleryItem);\n          // Приховати завантажувач (після завершення завантаження)\n          if (hits.length) {\n            loader.style.display = 'none';\n          }\n        });\n\n        lightbox.refresh(); // для оновлення SimpleLightbox\n      }\n    })\n    .catch(error => {\n      // console.error(error);\n      if ((error = false)) {\n        iziToast.show({\n          title: 'Error',\n          message: 'Error - while loading images. Please open new images',\n          color: 'red',\n          position: 'topCenter',\n        });\n      }\n    });\n});\n"],"names":["searchForm","gallery","apiKey","lightbox","SimpleLightbox","loader","event","searchInput","axios","response","hits","iziToast","hit","galleryItem","error"],"mappings":"owBAOA,MAAMA,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,qCACTC,EAAW,IAAIC,EAAe,YAAY,EAC1CC,EAAS,SAAS,cAAc,SAAS,EAE/CL,EAAW,iBAAiB,SAAUM,GAAS,CAC7CA,EAAM,eAAc,EACpBD,EAAO,MAAM,QAAU,QACvB,MAAME,EAAc,SAAS,cAAc,sBAAsB,EAAE,MAEnEN,EAAQ,UAAY,GACpB,aAAa,WAAW,mBAAmB,EAE3CO,EACG,IACC,gCAAgCN,CAAM,MAAMK,CAAW,0DACxD,EACA,KAAKE,GAAY,CAChB,MAAMC,EAAOD,EAAS,KAAK,KAEvBC,EAAK,SAAW,EAClBC,EAAS,KAAK,CACZ,MAAO,QACP,QACE,2EACF,MAAO,MACP,SAAU,WACpB,CAAS,GAEDD,EAAK,QAAQE,GAAO,CAClB,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/C,QAAQ,IAAIH,EAAK,MAAM,EACvBG,EAAY,UAAU,IAAI,cAAc,EACxCA,EAAY,UAAY;AAAA,mCACCD,EAAI,aAAa;AAAA,wCACZA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,sBAGhEX,EAAQ,YAAYY,CAAW,EAE3BH,EAAK,SACPL,EAAO,MAAM,QAAU,OAEnC,CAAS,EAEDF,EAAS,QAAO,EAExB,CAAK,EACA,MAAMW,GAAS,CAUpB,CAAK,CACL,CAAC"}